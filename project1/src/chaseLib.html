<script>
    'use strict'
    
    //Chase Lear, Person, Building, makePerson, createPath
    class Person{
        constructor(houseNumber, hasMask, infected) {
            this.houseNumber = houseNumber;
            this.hasMask = hasMask;
            this.infected = infected;
            this.x = 0;
            this.y = 0;
        }

    }

    class Building{
        constructor(x,screenY)  {
            this.number;
            this.members = [];
            this.x = x;
            this.y = y;

        }

    }

    let homes = [];
    let stores = [];
    let people = [];

    let homeCount = homes.length - 1;
    let storeCount = stores.length - 1;

    //MAKES A PERSON OBJECT
    function makePerson() {
        //what house they belong in
        let aHouseNumber = getRandomInt(0, homeCount);

        //are they wearing a mask?
        let wearsMask = getRandomInt(0, 1);

        //are they infected?
        let isInfected = getRanomInt(0, 1);

        //make person
        let aPerson = new Person(aHouseNumber, wearsMask, isInfected);

        //put into people array
        people.push(aPerson);

        //put person in proper home
        for (let home of homes) {
            if (home.number == aPerson.houseNumber) {
                home.members.push(aPerson);

            }

        }
    }

    //RETURNS 2D ARRAY OF XY LOCATIONS FOR A PERSON TO FOLLLOW
    function createPath(person) {

        //2d array of xy coordinates
        let pathArray = [];

        //how many destinations?
        let destinations = getRandomInt(0, storeCount);
        
        //bail early if it's 0
        if (destinations ==0) return;

        //find this person's home
        let thisHome;
        for (let home of homes) {
            if (home.number == aPerson.houseNumber) {
                thisHome = home;
            }
        }


        for (let i = 0; i < destinations; i++) {

            //xy array;
            let xyPair = [];

            //put coords into innerArray
            for (let store of stores) {
                if (store.number == i) {
                    xyPair.push(store.x);
                    xyPair.push(store.y)
                }
            }
            //put that in the big array
            pathArray.push(xyPair);
        }
           
        //find coords of home
        let xyPair = [thisHome.x, thisHome.y]

        //add coords of person's home
        pathArray.push(xypair);

        //return the pathArray
        return pathArray;

    }
    //
    
</script>
